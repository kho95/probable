!function(t,e){for(var n in e)t[n]=e[n]}(exports,function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=65)}([,function(t,e,n){"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o="["+r+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+o+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,n){if(e){const r=Object.keys(e),o=r.length;for(let i=0;i<o;i++)t[r[i]]="strict"===n?[e[r[i]]]:e[r[i]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(t,e,n){var r={};if(!t)return e;for(let o=0;o<n.length;o++)void 0!==t[n[o]]?r[n[o]]=t[n[o]]:r[n[o]]=e[n[o]];return r},e.isName=function(t){const e=i.exec(t);return!(null==e)},e.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const o=[],i=r.length;for(let t=0;t<i;t++)o.push(r[t]);n.push(o),r=e.exec(t)}return n},e.nameRegexp=o},function(t,e,n){"use strict";const r=n(1),o=n(1).buildOptions,i=n(27),s=1,a=2,u=3,c=4,l="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const f={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(t,e){return t},attrValueProcessor:function(t,e){return t},stopNodes:[]};e.defaultOptions=f;const h=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];e.props=h;function d(t,e,n){const r=t[7]||n;let o=t[12];return o&&(e.trimValues&&(o=o.trim()),o=e.tagValueProcessor(o,r),o=g(o,e.parseNodeValue,e.parseTrueNumberOnly)),o}function p(t){return"]]>"===t[4]?c:"/"===t[10]?a:void 0!==t[8]&&"/"===t[8].substr(t[8].length-1)?u:s}function y(t,e){if(e.ignoreNameSpace){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}function g(t,e,n){if(e&&"string"==typeof t){let e;return""===t.trim()||isNaN(t)?e="true"===t||"false"!==t&&t:(-1!==t.indexOf("0x")?e=Number.parseInt(t,16):-1!==t.indexOf(".")?(e=Number.parseFloat(t),t=t.replace(/0+$/,"")):e=Number.parseInt(t,10),n&&(e=String(e)===t?e:t)),e}return r.isExist(t)?t:""}const m=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function b(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");const n=r.getAllMatches(t,m),o=n.length,i={};for(let t=0;t<o;t++){const r=y(n[t][1],e);r.length&&(void 0!==n[t][4]?(e.trimValues&&(n[t][4]=n[t][4].trim()),n[t][4]=e.attrValueProcessor(n[t][4],r),i[e.attributeNamePrefix+r]=g(n[t][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(i[e.attributeNamePrefix+r]=!0))}if(!Object.keys(i).length)return;if(e.attrNodeName){const t={};return t[e.attrNodeName]=i,t}return i}}e.getTraversalObj=function(t,e){e=o(e,f,h),t=t.replace(/<!--[\s\S]*?-->/g,"");const n=new i("!xml");let s=n;const y=new RegExp(l,"g");let g=y.exec(t),m=y.exec(t);for(;g;){const n=p(g);if(n===a)s.parent&&g[12]&&(s.parent.val=r.getValue(s.parent.val)+""+d(g,e,s.parent.tagname)),e.stopNodes.length&&e.stopNodes.includes(s.tagname)&&(s.child=[],null==s.attrsMap&&(s.attrsMap={}),s.val=t.substr(s.startIndex+1,g.index-s.startIndex-1)),s=s.parent;else if(n===c)if(e.cdataTagName){const t=new i(e.cdataTagName,s,g[3]);t.attrsMap=b(g[8],e),s.addChild(t),s.val=r.getValue(s.val)+e.cdataPositionChar,g[12]&&(s.val+=d(g,e))}else s.val=(s.val||"")+(g[3]||"")+d(g,e);else if(n===u){s&&g[12]&&(s.val=r.getValue(s.val)+""+d(g,e));const t=new i(e.ignoreNameSpace?g[7]:g[5],s,"");g[8]&&g[8].length>0&&(g[8]=g[8].substr(0,g[8].length-1)),t.attrsMap=b(g[8],e),s.addChild(t)}else{const t=new i(e.ignoreNameSpace?g[7]:g[5],s,d(g,e));e.stopNodes.length&&e.stopNodes.includes(t.tagname)&&(t.startIndex=g.index+g[1].length),t.attrsMap=b(g[8],e),s.addChild(t),s=t}g=m,m=y.exec(t)}return n}},function(t,e,n){"use strict";const r=n(26),o=n(2),i=n(2),s=n(1).buildOptions,a=n(28);e.parse=function(t,e,n){if(n){!0===n&&(n={});const e=a.validate(t,n);if(!0!==e)throw Error(e.err.msg)}return e=s(e,i.defaultOptions,i.props),r.convertToJson(o.getTraversalObj(t,e),e)},e.convertTonimn=n(29).convert2nimn,e.getTraversalObj=o.getTraversalObj,e.convertToJson=r.convertToJson,e.convertToJsonString=n(30).convertToJsonString,e.validate=a.validate,e.j2xParser=n(31),e.parseToNimn=function(t,n,r){return e.convertTonimn(e.getTraversalObj(t,r),n,r)}},,,function(t,e){t.exports=require("http")},function(t,e){t.exports=require("url")},function(t,e){t.exports=require("https")},function(t,e){t.exports=require("stream")},,,,,,,,,,,,function(t,e,n){const r=n(22),o=n(23);function i(t){console.log(`[dotenv][DEBUG] ${t}`)}const s=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,a=/\\n/g,u=/\n|\r|\r\n/;function c(t,e){const n=Boolean(e&&e.debug),r={};return t.toString().split(u).forEach((function(t,e){const o=t.match(s);if(null!=o){const t=o[1];let e=o[2]||"";const n=e.length-1,i='"'===e[0]&&'"'===e[n];"'"===e[0]&&"'"===e[n]||i?(e=e.substring(1,n),i&&(e=e.replace(a,"\n"))):e=e.trim(),r[t]=e}else n&&i(`did not match key and value when parsing line ${e+1}: ${t}`)})),r}t.exports.config=function(t){let e=o.resolve(process.cwd(),".env"),n="utf8",s=!1;t&&(null!=t.path&&(e=t.path),null!=t.encoding&&(n=t.encoding),null!=t.debug&&(s=!0));try{const t=c(r.readFileSync(e,{encoding:n}),{debug:s});return Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(process.env,e)?s&&i(`"${e}" is already defined in \`process.env\` and will not be overwritten`):process.env[e]=t[e]})),{parsed:t}}catch(t){return{error:t}}},t.exports.parse=c},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("zlib")},,function(t,e,n){"use strict";const r=n(1),o=function(t,e){const n={};if(!(t.child&&!r.isEmptyObject(t.child)||t.attrsMap&&!r.isEmptyObject(t.attrsMap)))return r.isExist(t.val)?t.val:"";r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&("strict"===e.arrayMode?n[e.textNodeName]=[t.val]:n[e.textNodeName]=t.val),r.merge(n,t.attrsMap,e.arrayMode);const i=Object.keys(t.child);for(let r=0;r<i.length;r++){var s=i[r];if(t.child[s]&&t.child[s].length>1)for(var a in n[s]=[],t.child[s])n[s].push(o(t.child[s][a],e));else if(!0===e.arrayMode){const r=o(t.child[s][0],e);n[s]="object"==typeof r?[r]:r}else"strict"===e.arrayMode?n[s]=[o(t.child[s][0],e)]:n[s]=o(t.child[s][0],e)}return n};e.convertToJson=o},function(t,e,n){"use strict";t.exports=function(t,e,n){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=n,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}},function(t,e,n){"use strict";const r=n(1),o={allowBooleanAttributes:!1},i=["allowBooleanAttributes"];function s(t,e){for(var n=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var r=t.substr(n,e-n);if(e>5&&"xml"===r)return h("InvalidXml","XML declaration allowed only at the start of the document.",p(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function a(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=r.buildOptions(e,o,i);const n=[];let c=!1,d=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let o=0;o<t.length;o++){if("<"!==t[o]){if(" "===t[o]||"\t"===t[o]||"\n"===t[o]||"\r"===t[o])continue;return h("InvalidChar",`char '${t[o]}' is not expected.`,p(t,o))}if(o++,"?"===t[o]){if(o=s(t,++o),o.err)return o}else{if("!"===t[o]){o=a(t,o);continue}{let i=!1;"/"===t[o]&&(i=!0,o++);let s="";for(;o<t.length&&">"!==t[o]&&" "!==t[o]&&"\t"!==t[o]&&"\n"!==t[o]&&"\r"!==t[o];o++)s+=t[o];if(s=s.trim(),"/"===s[s.length-1]&&(s=s.substring(0,s.length-1),o--),y=s,!r.isName(y)){let e;return e=0===s.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":`Tag '${s}' is an invalid name.`,h("InvalidTag",e,p(t,o))}const g=u(t,o);if(!1===g)return h("InvalidAttr",`Attributes for '${s}' have open quote.`,p(t,o));let m=g.value;if(o=g.index,"/"===m[m.length-1]){m=m.substring(0,m.length-1);const n=l(m,e);if(!0!==n)return h(n.err.code,n.err.msg,p(t,o-m.length+n.err.line));c=!0}else if(i){if(!g.tagClosed)return h("InvalidTag",`Closing tag '${s}' doesn't have proper closing.`,p(t,o));if(m.trim().length>0)return h("InvalidTag",`Closing tag '${s}' can't have attributes or invalid starting.`,p(t,o));{const e=n.pop();if(s!==e)return h("InvalidTag",`Closing tag '${e}' is expected inplace of '${s}'.`,p(t,o));0==n.length&&(d=!0)}}else{const r=l(m,e);if(!0!==r)return h(r.err.code,r.err.msg,p(t,o-m.length+r.err.line));if(!0===d)return h("InvalidXml","Multiple possible root nodes found.",p(t,o));n.push(s),c=!0}for(o++;o<t.length;o++){if("<"===t[o]){if("!"===t[o+1]){o++,o=a(t,o);continue}break}if("&"===t[o]){const e=f(t,o);if(-1==e)return h("InvalidChar","char '&' is not expected.",p(t,o));o=e}}"<"===t[o]&&o--}}}var y;return c?!(n.length>0)||h("InvalidXml",`Invalid '${JSON.stringify(n,null,4).replace(/\r?\n/g,"")}' found.`,1):h("InvalidXml","Start tag expected.",1)};function u(t,e){let n="",r="",o=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e])if(""===r)r=t[e];else{if(r!==t[e])continue;r=""}else if(">"===t[e]&&""===r){o=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:o}}const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(t,e){const n=r.getAllMatches(t,c),o={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return h("InvalidAttr",`Attribute '${n[r][2]}' has no space in starting.`,y(t,n[r][0]));if(void 0===n[r][3]&&!e.allowBooleanAttributes)return h("InvalidAttr",`boolean attribute '${n[r][2]}' is not allowed.`,y(t,n[r][0]));const i=n[r][2];if(!d(i))return h("InvalidAttr",`Attribute '${i}' is an invalid name.`,y(t,n[r][0]));if(o.hasOwnProperty(i))return h("InvalidAttr",`Attribute '${i}' is repeated.`,y(t,n[r][0]));o[i]=1}return!0}function f(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function h(t,e,n){return{err:{code:t,msg:e,line:n}}}function d(t){return r.isName(t)}function p(t,e){return t.substring(0,e).split(/\r?\n/).length}function y(t,e){return t.indexOf(e)+e.length}},function(t,e,n){"use strict";const r=function(t){return String.fromCharCode(t)},o={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},i=[o.nilChar,o.nilPremitive,o.missingChar,o.missingPremitive,o.boundryChar,o.emptyChar,o.emptyValue,o.arrayEnd,o.objStart,o.arrStart],s=function(t,e,n){if("string"==typeof e)return t&&t[0]&&void 0!==t[0].val?a(t[0].val,e):a(t,e);{const i=void 0===(r=t)?o.missingChar:null===r?o.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||o.emptyChar;if(!0===i){let r="";if(Array.isArray(e)){r+=o.arrStart;const i=e[0],c=t.length;if("string"==typeof i)for(let e=0;e<c;e++){const n=a(t[e].val,i);r=u(r,n)}else for(let e=0;e<c;e++){const o=s(t[e],i,n);r=u(r,o)}r+=o.arrayEnd}else{r+=o.objStart;const i=Object.keys(e);Array.isArray(t)&&(t=t[0]);for(let o in i){const a=i[o];let c;c=!n.ignoreAttributes&&t.attrsMap&&t.attrsMap[a]?s(t.attrsMap[a],e[a],n):a===n.textNodeName?s(t.val,e[a],n):s(t.child[a],e[a],n),r=u(r,c)}}return r}return i}var r},a=function(t){switch(t){case void 0:return o.missingPremitive;case null:return o.nilPremitive;case"":return o.emptyValue;default:return t}},u=function(t,e){return c(e[0])||c(t[t.length-1])||(t+=o.boundryChar),t+e},c=function(t){return-1!==i.indexOf(t)};const l=n(2),f=n(1).buildOptions;e.convert2nimn=function(t,e,n){return n=f(n,l.defaultOptions,l.props),s(t,e,n)}},function(t,e,n){"use strict";const r=n(1),o=n(1).buildOptions,i=n(2),s=function(t,e,n){let o="{";const i=Object.keys(t.child);for(let n=0;n<i.length;n++){var a=i[n];if(t.child[a]&&t.child[a].length>1){for(var u in o+='"'+a+'" : [ ',t.child[a])o+=s(t.child[a][u],e)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+a+'" : '+s(t.child[a][0],e)+" ,"}return r.merge(o,t.attrsMap),r.isEmptyObject(o)?r.isExist(t.val)?t.val:"":(r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(o+='"'+e.textNodeName+'" : '+(!0!==(c=t.val)&&!1!==c&&isNaN(c)?'"'+c+'"':c)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}");var c};e.convertToJsonString=function(t,e){return(e=o(e,i.defaultOptions,i.props)).indentBy=e.indentBy||"",s(t,e,0)}},function(t,e,n){"use strict";const r=n(1).buildOptions,o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},i=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function s(t){this.options=r(t,o,i),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.options.cdataTagName?this.isCDATA=y:this.isCDATA=function(){return!1},this.replaceCDATAstr=a,this.replaceCDATAarr=u,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=l):(this.buildTextNode=f,this.buildObjNode=c),this.buildTextValNode=f,this.buildObjectNode=c}function a(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function u(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[n]+"]]>");return t+this.newLine}function c(t,e,n,r){return n&&!t.includes("<")?this.indentate(r)+"<"+e+n+">"+t+"</"+e+this.tagEndChar:this.indentate(r)+"<"+e+n+this.tagEndChar+t+this.indentate(r)+"</"+e+this.tagEndChar}function l(t,e,n,r){return""!==t?this.buildObjectNode(t,e,n,r):this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function f(t,e,n,r){return this.indentate(r)+"<"+e+n+">"+this.options.tagValueProcessor(t)+"</"+e+this.tagEndChar}function h(t,e,n,r){return""!==t?this.buildTextValNode(t,e,n,r):this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function d(t){return this.options.indentBy.repeat(t)}function p(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function y(t){return t===this.options.cdataTagName}s.prototype.parse=function(t){return this.j2x(t,0).val},s.prototype.j2x=function(t,e){let n="",r="";const o=Object.keys(t),i=o.length;for(let s=0;s<i;s++){const i=o[s];if(void 0===t[i]);else if(null===t[i])r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextNode(t[i],i,"",e);else if("object"!=typeof t[i]){const o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+t[i])+'"':this.isCDATA(i)?t[this.options.textNodeName]?r+=this.replaceCDATAstr(t[this.options.textNodeName],t[i]):r+=this.replaceCDATAstr("",t[i]):i===this.options.textNodeName?t[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+t[i])):r+=this.buildTextNode(t[i],i,"",e)}else if(Array.isArray(t[i]))if(this.isCDATA(i))r+=this.indentate(e),t[this.options.textNodeName]?r+=this.replaceCDATAarr(t[this.options.textNodeName],t[i]):r+=this.replaceCDATAarr("",t[i]);else{const n=t[i].length;for(let o=0;o<n;o++){const n=t[i][o];if(void 0===n);else if(null===n)r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof n){const t=this.j2x(n,e+1);r+=this.buildObjNode(t.val,i,t.attrStr,e)}else r+=this.buildTextNode(n,i,"",e)}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const e=Object.keys(t[i]),r=e.length;for(let o=0;o<r;o++)n+=" "+e[o]+'="'+this.options.attrValueProcessor(""+t[i][e[o]])+'"'}else{const n=this.j2x(t[i],e+1);r+=this.buildObjNode(n.val,i,n.attrStr,e)}}return{attrStr:n,val:r}},t.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r;"undefined"!=typeof self&&self,t.exports=(r=n(58),function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),o=n(3),i=n(5),s=n(11);e.PREVIEW_COOKIE="io.prismic.preview",e.EXPERIMENT_COOKIE="io.prismic.experiment";var a=function(){function t(t,e,n){this.data=t,this.masterRef=t.refs.filter((function(t){return t.isMasterRef}))[0],this.experiments=new r.Experiments(t.experiments),this.bookmarks=t.bookmarks,this.httpClient=e,this.options=n,this.refs=t.refs,this.tags=t.tags,this.types=t.types,this.languages=t.languages}return t.prototype.form=function(t){var e=this.data.forms[t];return e?new o.SearchForm(e,this.httpClient):null},t.prototype.everything=function(){var t=this.form("everything");if(!t)throw new Error("Missing everything form");return t},t.prototype.master=function(){return this.masterRef.ref},t.prototype.ref=function(t){var e=this.data.refs.filter((function(e){return e.label===t}))[0];return e?e.ref:null},t.prototype.currentExperiment=function(){return this.experiments.current()},t.prototype.query=function(t,n,r){void 0===r&&(r=function(){});var o="function"==typeof n?{options:{},callback:n}:{options:n||{},callback:r},i=o.options,a=o.callback,u=this.everything();for(var c in i)u=u.set(c,i[c]);if(!i.ref){var l="";this.options.req?l=this.options.req.headers.cookie||"":"undefined"!=typeof window&&window.document&&(l=window.document.cookie||"");var f=s.default.parse(l),h=f[e.PREVIEW_COOKIE],d=this.experiments.refFromCookie(f[e.EXPERIMENT_COOKIE]);u=u.ref(h||d||this.masterRef.ref)}return t&&u.query(t),u.submit(a)},t.prototype.queryFirst=function(t,e,n){var r="function"==typeof e?{options:{},callback:e}:{options:e||{},callback:n||function(){}},o=r.options,i=r.callback;return o.page=1,o.pageSize=1,this.query(t,o).then((function(t){var e=t&&t.results&&t.results[0];return i(null,e),e})).catch((function(t){throw i(t),t}))},t.prototype.getByID=function(t,e,n){var r=e||{};return r.lang||(r.lang="*"),this.queryFirst(i.default.at("document.id",t),r,n)},t.prototype.getByIDs=function(t,e,n){var r=e||{};return r.lang||(r.lang="*"),this.query(i.default.in("document.id",t),r,n)},t.prototype.getByUID=function(t,e,n,r){var o=n||{};if("*"===o.lang)throw new Error("FORDIDDEN. You can't use getByUID with *, use the predicates instead.");return o.page||(o.page=1),this.queryFirst(i.default.at("my."+t+".uid",e),o,r)},t.prototype.getSingle=function(t,e,n){var r=e||{};return this.queryFirst(i.default.at("document.type",t),r,n)},t.prototype.getBookmark=function(t,e,n){var r=this.data.bookmarks[t];return r?this.getByID(r,e,n):Promise.reject("Error retrieving bookmarked id")},t.prototype.previewSession=function(t,e,n,r){var o=this;return new Promise((function(i,s){o.httpClient.request(t,(function(a,u){if(a)r&&r(a),s(a);else if(u){if(u.mainDocument)return o.getByID(u.mainDocument,{ref:t}).then((function(t){if(t){var o=e(t);r&&r(null,o),i(o)}else r&&r(null,n),i(n)})).catch(s);r&&r(null,n),i(n)}}))}))},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(10);function i(t){return t.indexOf("?")>-1?"&":"?"}var s=function(){function t(t,e){if(this.options=e||{},this.url=t,this.options.accessToken){var n="access_token="+this.options.accessToken;this.url+=i(t)+n}this.options.routes&&(this.url+=i(t)+"routes="+JSON.stringify(this.options.routes)),this.apiDataTTL=this.options.apiDataTTL||5,this.httpClient=new o.default(this.options.requestHandler,this.options.apiCache,this.options.proxyAgent)}return t.prototype.get=function(t){var e=this;return this.httpClient.cachedRequest(this.url,{ttl:this.apiDataTTL}).then((function(n){var o=new r.default(n,e.httpClient,e.options);return t&&t(null,o),o})).catch((function(e){throw t&&t(e),e}))},t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e){this.id=t,this.api=e,this.fields={}}return t.prototype.set=function(t,e){return this.fields[t]=e,this},t.prototype.ref=function(t){return this.set("ref",t)},t.prototype.query=function(t){return this.set("q",t)},t.prototype.pageSize=function(t){return this.set("pageSize",t)},t.prototype.fetch=function(t){return console.warn("Warning: Using Fetch is deprecated. Use the property `graphQuery` instead."),this.set("fetch",t)},t.prototype.fetchLinks=function(t){return console.warn("Warning: Using FetchLinks is deprecated. Use the property `graphQuery` instead."),this.set("fetchLinks",t)},t.prototype.graphQuery=function(t){return this.set("graphQuery",t)},t.prototype.lang=function(t){return this.set("lang",t)},t.prototype.page=function(t){return this.set("page",t)},t.prototype.after=function(t){return this.set("after",t)},t.prototype.orderings=function(t){return this.set("orderings",t)},t.prototype.url=function(){var e=this;return this.api.get().then((function(n){return t.toSearchForm(e,n).url()}))},t.prototype.submit=function(e){var n=this;return this.api.get().then((function(r){return t.toSearchForm(n,r).submit(e)}))},t.toSearchForm=function(t,e){var n=e.form(t.id);if(n)return Object.keys(t.fields).reduce((function(e,n){var r=t.fields[n];return"q"===n?e.query(r):"pageSize"===n?e.pageSize(r):"fetch"===n?e.fetch(r):"fetchLinks"===n?e.fetchLinks(r):"graphQuery"===n?e.graphQuery(r):"lang"===n?e.lang(r):"page"===n?e.page(r):"after"===n?e.after(r):"orderings"===n?e.orderings(r):e.set(n,r)}),n);throw new Error("Unable to access to form "+t.id)},t}();e.LazySearchForm=r;var o=function(){function t(t,e){for(var n in this.httpClient=e,this.form=t,this.data={},t.fields)t.fields[n].default&&(this.data[n]=[t.fields[n].default])}return t.prototype.set=function(t,e){var n=this.form.fields[t];if(!n)throw new Error("Unknown field "+t);var r=""===e||void 0===e?null:e,o=this.data[t]||[];return o=n.multiple?r?o.concat([r]):o:r?[r]:o,this.data[t]=o,this},t.prototype.ref=function(t){return this.set("ref",t)},t.prototype.query=function(t){if("string"==typeof t)return this.query([t]);if(Array.isArray(t))return this.set("q","["+t.join("")+"]");throw new Error("Invalid query : "+t)},t.prototype.pageSize=function(t){return this.set("pageSize",t)},t.prototype.fetch=function(t){console.warn("Warning: Using Fetch is deprecated. Use the property `graphQuery` instead.");var e=Array.isArray(t)?t.join(","):t;return this.set("fetch",e)},t.prototype.fetchLinks=function(t){console.warn("Warning: Using FetchLinks is deprecated. Use the property `graphQuery` instead.");var e=Array.isArray(t)?t.join(","):t;return this.set("fetchLinks",e)},t.prototype.graphQuery=function(t){return this.set("graphQuery",t)},t.prototype.lang=function(t){return this.set("lang",t)},t.prototype.page=function(t){return this.set("page",t)},t.prototype.after=function(t){return this.set("after",t)},t.prototype.orderings=function(t){return t?this.set("orderings","["+t.join(",")+"]"):this},t.prototype.url=function(){var t=this.form.action;if(this.data){var e=t.indexOf("?")>-1?"&":"?";for(var n in this.data)if(this.data.hasOwnProperty(n)){var r=this.data[n];if(r)for(var o=0;o<r.length;o++)t+=e+n+"="+encodeURIComponent(r[o]),e="&"}}return t},t.prototype.submit=function(t){return this.httpClient.cachedRequest(this.url()).then((function(e){return t&&t(null,e),e})).catch((function(e){throw t&&t(e),e}))},t}();e.SearchForm=o},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t){this.data={},this.data=t}return t.prototype.id=function(){return this.data.id},t.prototype.ref=function(){return this.data.ref},t.prototype.label=function(){return this.data.label},t}();e.Variation=r;var o=function(){function t(t){this.data={},this.data=t,this.variations=(t.variations||[]).map((function(t){return new r(t)}))}return t.prototype.id=function(){return this.data.id},t.prototype.googleId=function(){return this.data.googleId},t.prototype.name=function(){return this.data.name},t}();e.Experiment=o;var i=function(){function t(t){t&&(this.drafts=(t.drafts||[]).map((function(t){return new o(t)})),this.running=(t.running||[]).map((function(t){return new o(t)})))}return t.prototype.current=function(){return this.running.length>0?this.running[0]:null},t.prototype.refFromCookie=function(t){if(!t||""===t.trim())return null;var e=t.trim().split(" ");if(e.length<2)return null;var n=e[0],r=parseInt(e[1],10),o=this.running.filter((function(t){return t.googleId()===n&&t.variations.length>r}))[0];return o?o.variations[r].ref():null},t}();e.Experiments=i},function(t,e,n){"use strict";function r(t){if("string"==typeof t)return'"'+t+'"';if("number"==typeof t)return t.toString();if(t instanceof Date)return t.getTime().toString();if(Array.isArray(t))return"["+t.map((function(t){return r(t)})).join(",")+"]";throw new Error("Unable to encode "+t+" of type "+typeof t)}e.__esModule=!0;var o={near:function(t,e,n,r){return"[geopoint.near("+t+", "+e+", "+n+", "+r+")]"}},i={before:function(t,e){return"[date.before("+t+", "+r(e)+")]"},after:function(t,e){return"[date.after("+t+", "+r(e)+")]"},between:function(t,e,n){return"[date.between("+t+", "+r(e)+", "+r(n)+")]"},dayOfMonth:function(t,e){return"[date.day-of-month("+t+", "+e+")]"},dayOfMonthAfter:function(t,e){return"[date.day-of-month-after("+t+", "+e+")]"},dayOfMonthBefore:function(t,e){return"[date.day-of-month-before("+t+", "+e+")]"},dayOfWeek:function(t,e){return"[date.day-of-week("+t+", "+r(e)+")]"},dayOfWeekAfter:function(t,e){return"[date.day-of-week-after("+t+", "+r(e)+")]"},dayOfWeekBefore:function(t,e){return"[date.day-of-week-before("+t+", "+r(e)+")]"},month:function(t,e){return"[date.month("+t+", "+r(e)+")]"},monthBefore:function(t,e){return"[date.month-before("+t+", "+r(e)+")]"},monthAfter:function(t,e){return"[date.month-after("+t+", "+r(e)+")]"},year:function(t,e){return"[date.year("+t+", "+e+")]"},hour:function(t,e){return"[date.hour("+t+", "+e+")]"},hourBefore:function(t,e){return"[date.hour-before("+t+", "+e+")]"},hourAfter:function(t,e){return"[date.hour-after("+t+", "+e+")]"}},s={gt:function(t,e){return"[number.gt("+t+", "+e+")]"},lt:function(t,e){return"[number.lt("+t+", "+e+")]"},inRange:function(t,e,n){return"[number.inRange("+t+", "+e+", "+n+")]"}};e.default={at:function(t,e){return"[at("+t+", "+r(e)+")]"},not:function(t,e){return"[not("+t+", "+r(e)+")]"},missing:function(t){return"[missing("+t+")]"},has:function(t){return"[has("+t+")]"},any:function(t,e){return"[any("+t+", "+r(e)+")]"},in:function(t,e){return"[in("+t+", "+r(e)+")]"},fulltext:function(t,e){return"[fulltext("+t+", "+r(e)+")]"},similar:function(t,e){return'[similar("'+t+'", '+e+")]"},date:i,dateBefore:i.before,dateAfter:i.after,dateBetween:i.between,dayOfMonth:i.dayOfMonth,dayOfMonthAfter:i.dayOfMonthAfter,dayOfMonthBefore:i.dayOfMonthBefore,dayOfWeek:i.dayOfWeek,dayOfWeekAfter:i.dayOfWeekAfter,dayOfWeekBefore:i.dayOfWeekBefore,month:i.month,monthBefore:i.monthBefore,monthAfter:i.monthAfter,year:i.year,hour:i.hour,hourBefore:i.hourBefore,hourAfter:i.hourAfter,number:s,gt:s.gt,lt:s.lt,inRange:s.inRange,near:o.near,geopoint:o}},function(t,e,n){"use strict";(function(t){var r=n(0),o=setTimeout;function i(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}u(e.promise,r)}else(1===t._state?u:c)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},s.prototype.finally=r.a,s.all=function(t){return new s((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){i(t,e)}),n)}r[t]=s,0==--o&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)i(s,r[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,n){n(t)}))},s.race=function(t){return new s((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},s._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){o(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=s}).call(this,n(17).setImmediate)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t){this.options=t||{}}return t.prototype.request=function(t,e){!function(t,e,n){var r={headers:{Accept:"application/json"}};e&&e.proxyAgent&&(r.agent=e.proxyAgent),fetch(t,r).then((function(e){return~~(e.status/100!=2)?e.text().then((function(){var n=new Error("Unexpected status code ["+e.status+"] on URL "+t);throw n.status=e.status,n})):e.json().then((function(t){var r=e.headers.get("cache-control"),o=r?/max-age=(\d+)/.exec(r):null,i=o?parseInt(o[1],10):void 0;n(null,t,e,i)}))})).catch(n)}(t,this.options,e)},t}();e.DefaultRequestHandler=r},function(t,e,n){"use strict";function r(t){this.size=0,this.limit=t,this._keymap={}}e.__esModule=!0,e.MakeLRUCache=function(t){return new r(t)},r.prototype.put=function(t,e){var n={key:t,value:e};if(this._keymap[t]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size++},r.prototype.shift=function(){var t=this.head;return t&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,t.newer=t.older=void 0,delete this._keymap[t.key]),console.log("purging ",t.key),t},r.prototype.get=function(t,e){var n=this._keymap[t];if(void 0!==n)return n===this.tail?e?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,e?n:n.value)},r.prototype.find=function(t){return this._keymap[t]},r.prototype.set=function(t,e){var n,r=this.get(t,!0);return r?(n=r.value,r.value=e):(n=this.put(t,e))&&(n=n.value),n},r.prototype.remove=function(t){var e=this._keymap[t];if(e)return delete this._keymap[e.key],e.newer&&e.older?(e.older.newer=e.newer,e.newer.older=e.older):e.newer?(e.newer.older=void 0,this.head=e.newer):e.older?(e.older.newer=void 0,this.tail=e.older):this.head=this.tail=void 0,this.size--,e.value},r.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?r.prototype.keys=function(){return Object.keys(this._keymap)}:r.prototype.keys=function(){var t=[];for(var e in this._keymap)t.push(e);return t},r.prototype.forEach=function(t,e,n){var r;if(!0===e?(n=!0,e=void 0):"object"!=typeof e&&(e=this),n)for(r=this.tail;r;)t.call(e,r.key,r.value,this),r=r.older;else for(r=this.head;r;)t.call(e,r.key,r.value,this),r=r.newer},r.prototype.toString=function(){for(var t="",e=this.head;e;)t+=String(e.key)+":"+e.value,(e=e.newer)&&(t+=" < ");return t}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(8),o=function(){function t(t){void 0===t&&(t=1e3),this.lru=r.MakeLRUCache(t)}return t.prototype.isExpired=function(t){var e=this.lru.get(t,!1);return!!e&&0!==e.expiredIn&&e.expiredIn<Date.now()},t.prototype.get=function(t,e){var n=this.lru.get(t,!1);n&&!this.isExpired(t)?e(null,n.data):e&&e(null)},t.prototype.set=function(t,e,n,r){this.lru.remove(t),this.lru.put(t,{data:e,expiredIn:n?Date.now()+1e3*n:0}),r&&r(null)},t.prototype.remove=function(t,e){this.lru.remove(t),e&&e(null)},t.prototype.clear=function(t){this.lru.removeAll(),t&&t(null)},t}();e.DefaultApiCache=o},function(t,e,n){"use strict";e.__esModule=!0;var r=n(9),o=n(7),i=function(){function t(t,e,n){this.requestHandler=t||new o.DefaultRequestHandler({proxyAgent:n}),this.cache=e||new r.DefaultApiCache}return t.prototype.request=function(t,e){this.requestHandler.request(t,(function(t,n,r,o){t?e&&e(t,null,r,o):n&&e&&e(null,n,r,o)}))},t.prototype.cachedRequest=function(t,e){var n=this,r=e||{};return new Promise((function(e,o){!function(e){var o=r.cacheKey||t;n.cache.get(o,(function(i,s){i||s?e(i,s):n.request(t,(function(t,i,s,a){if(t)e(t,null);else{var u=a||r.ttl;u&&n.cache.set(o,i,u,e),e(null,i)}}))}))}((function(t,n){t&&o(t),n&&e(n)}))}))},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r=decodeURIComponent;e.default={parse:function(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");var n={},o=e||{},i=t.split(/; */),s=o.decode||r;return i.forEach((function(t){var e=t.indexOf("=");if(!(e<0)){var r=t.substr(0,e).trim(),o=t.substr(++e,t.length).trim();'"'==o[0]&&(o=o.slice(1,-1)),null==n[r]&&(n[r]=function(t,e){try{return e(t)}catch(e){return t}}(o,s))}})),n}}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3),o=n(2),i=function(){function t(t,e){this.api=new o.default(t,e)}return t.prototype.getApi=function(){return this.api.get()},t.prototype.everything=function(){return this.form("everything")},t.prototype.form=function(t){return new r.LazySearchForm(t,this.api)},t.prototype.query=function(t,e,n){return this.getApi().then((function(r){return r.query(t,e,n)}))},t.prototype.queryFirst=function(t,e,n){return this.getApi().then((function(r){return r.queryFirst(t,e,n)}))},t.prototype.getByID=function(t,e,n){return this.getApi().then((function(r){return r.getByID(t,e,n)}))},t.prototype.getByIDs=function(t,e,n){return this.getApi().then((function(r){return r.getByIDs(t,e,n)}))},t.prototype.getByUID=function(t,e,n,r){return this.getApi().then((function(o){return o.getByUID(t,e,n,r)}))},t.prototype.getSingle=function(t,e,n){return this.getApi().then((function(r){return r.getSingle(t,e,n)}))},t.prototype.getBookmark=function(t,e,n){return this.getApi().then((function(r){return r.getBookmark(t,e,n)}))},t.prototype.previewSession=function(t,e,n,r){return this.getApi().then((function(o){return o.previewSession(t,e,n,r)}))},t.getApi=function(t,e){return new o.default(t,e).get()},t}();e.DefaultClient=i},function(t,e,n){"use strict";var r,o=n(5),i=n(4),s=n(12),a=n(2),u=n(1);!function(t){function e(t,e){return s.DefaultClient.getApi(t,e)}t.experimentCookie=u.EXPERIMENT_COOKIE,t.previewCookie=u.PREVIEW_COOKIE,t.Predicates=o.default,t.Experiments=i.Experiments,t.Api=a.default,t.client=function(t,e){return new s.DefaultClient(t,e)},t.getApi=e,t.api=function(t,n){return e(t,n)}}(r||(r={})),t.exports=r},function(t,e){t.exports=r},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=a(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},s=!1,a=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return i[o]=s,r(o),o++},u.clearImmediate=c}function c(t){delete i[t]}function l(t){if(s)setTimeout(l,0,t);else{var e=i[t];if(e){s=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{c(t),s=!1}}}}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)}).call(this,n(15))},function(t,e,n){var r="undefined"!=typeof global&&global||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(16),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof global&&global.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof global&&global.clearImmediate||this&&this.clearImmediate},function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(0),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();i.Promise?i.Promise.prototype.finally||(i.Promise.prototype.finally=o.a):i.Promise=r.a},function(t,e,n){n(18),n(14),t.exports=n(13)}]))},function(t,e,n){var r=n(59),o=r.fetch.bind({});o.polyfill=!0,global.fetch||(global.fetch=o,global.Response=r.Response,global.Headers=r.Headers,global.Request=r.Request)},function(t,e,n){var r=n(60),o=r.default||r,i=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),o.call(this,t,e)};i.polyfill=!1,t.exports=e=i,e.fetch=i,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,e.default=i},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return T})),n.d(e,"Request",(function(){return M})),n.d(e,"Response",(function(){return k})),n.d(e,"FetchError",(function(){return s}));const r=Symbol("buffer"),o=Symbol("type");class i{constructor(){this[o]="";const t=arguments[0],e=arguments[1],n=[];if(t){const e=t,o=Number(e.length);for(let t=0;t<o;t++){const o=e[t];let s;s=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof i?o[r]:Buffer.from("string"==typeof o?o:String(o)),n.push(s)}}this[r]=Buffer.concat(n);let s=e&&void 0!==e.type&&String(e.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[o]=s)}get size(){return this[r].length}get type(){return this[o]}slice(){const t=this.size,e=arguments[0],n=arguments[1];let o,s;o=void 0===e?0:e<0?Math.max(t+e,0):Math.min(e,t),s=void 0===n?t:n<0?Math.max(t+n,0):Math.min(n,t);const a=Math.max(s-o,0),u=this[r].slice(o,o+a),c=new i([],{type:arguments[2]});return c[r]=u,c}}function s(t,e,n){Error.call(this,t),this.message=t,this.type=e,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(i.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(i.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name="FetchError";const a=n(9);const u=n(9).PassThrough;let c;try{c=n(!function(){var t=new Error("Cannot find module 'encoding'");throw t.code="MODULE_NOT_FOUND",t}()).convert}catch(t){}const l=Symbol("Body internals");function f(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.size;let o=void 0===r?0:r;var u=n.timeout;let c=void 0===u?0:u;null==t?t=null:"string"==typeof t||d(t)||t instanceof i||Buffer.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)||t instanceof a||(t=String(t)),this[l]={body:t,disturbed:!1,error:null},this.size=o,this.timeout=c,t instanceof a&&t.on("error",(function(t){e[l].error=new s(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}))}function h(){var t=this;if(this[l].disturbed)return f.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[l].disturbed=!0,this[l].error)return f.Promise.reject(this[l].error);if(null===this.body)return f.Promise.resolve(Buffer.alloc(0));if("string"==typeof this.body)return f.Promise.resolve(Buffer.from(this.body));if(this.body instanceof i)return f.Promise.resolve(this.body[r]);if(Buffer.isBuffer(this.body))return f.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return f.Promise.resolve(Buffer.from(this.body));if(!(this.body instanceof a))return f.Promise.resolve(Buffer.alloc(0));let e=[],n=0,o=!1;return new f.Promise((function(r,i){let a;t.timeout&&(a=setTimeout((function(){o=!0,i(new s(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))}),t.timeout)),t.body.on("error",(function(e){i(new s(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))})),t.body.on("data",(function(r){if(!o&&null!==r){if(t.size&&n+r.length>t.size)return o=!0,void i(new s(`content size at ${t.url} over limit: ${t.size}`,"max-size"));n+=r.length,e.push(r)}})),t.body.on("end",(function(){if(!o){clearTimeout(a);try{r(Buffer.concat(e))}catch(e){i(new s(`Could not create Buffer from response body for ${t.url}: ${e.message}`,"system",e))}}}))}))}function d(t){return"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&("URLSearchParams"===t.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(t)||"function"==typeof t.sort)}function p(t){let e,n,r=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof a&&"function"!=typeof r.getBoundary&&(e=new u,n=new u,r.pipe(e),r.pipe(n),t[l].body=e,r=n),r}function y(t){const e=t.body;return null===e?0:"string"==typeof e?Buffer.byteLength(e):d(e)?Buffer.byteLength(String(e)):e instanceof i?e.size:Buffer.isBuffer(e)?e.length:"[object ArrayBuffer]"===Object.prototype.toString.call(e)?e.byteLength:e&&"function"==typeof e.getLengthSync&&(e._lengthRetrievers&&0==e._lengthRetrievers.length||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}f.prototype={get body(){return this[l].body},get bodyUsed(){return this[l].disturbed},arrayBuffer(){return h.call(this).then((function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}))},blob(){let t=this.headers&&this.headers.get("content-type")||"";return h.call(this).then((function(e){return Object.assign(new i([],{type:t.toLowerCase()}),{[r]:e})}))},json(){var t=this;return h.call(this).then((function(e){try{return JSON.parse(e.toString())}catch(e){return f.Promise.reject(new s(`invalid json response body at ${t.url} reason: ${e.message}`,"invalid-json"))}}))},text(){return h.call(this).then((function(t){return t.toString()}))},buffer(){return h.call(this)},textConverted(){var t=this;return h.call(this).then((function(e){return function(t,e){if("function"!=typeof c)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=e.get("content-type");let r,o,i="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));o=t.slice(0,1024).toString(),!r&&o&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(o));!r&&o&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&o&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o));r&&(i=r.pop(),"gb2312"!==i&&"gbk"!==i||(i="gb18030"));return c(t,"UTF-8",i).toString()}(e,t.headers)}))}},Object.defineProperties(f.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),f.mixIn=function(t){for(const e of Object.getOwnPropertyNames(f.prototype))if(!(e in t)){const n=Object.getOwnPropertyDescriptor(f.prototype,e);Object.defineProperty(t,e,n)}},f.Promise=global.Promise;const g=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,m=/[^\t\x20-\x7e\x80-\xff]/;function b(t){if(t=`${t}`,g.test(t))throw new TypeError(`${t} is not a legal HTTP header name`)}function v(t){if(t=`${t}`,m.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function w(t,e){e=e.toLowerCase();for(const n in t)if(n.toLowerCase()===e)return n}const x=Symbol("map");class T{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[x]=Object.create(null),t instanceof T){const e=t.raw(),n=Object.keys(e);for(const t of n)for(const n of e[t])this.append(t,n)}else if(null==t);else{if("object"!=typeof t)throw new TypeError("Provided initializer must be an object");{const e=t[Symbol.iterator];if(null!=e){if("function"!=typeof e)throw new TypeError("Header pairs must be iterable");const n=[];for(const e of t){if("object"!=typeof e||"function"!=typeof e[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(e))}for(const t of n){if(2!==t.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(t[0],t[1])}}else for(const e of Object.keys(t)){const n=t[e];this.append(e,n)}}}}get(t){b(t=`${t}`);const e=w(this[x],t);return void 0===e?null:this[x][e].join(", ")}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=O(this),r=0;for(;r<n.length;){var o=n[r];const i=o[0],s=o[1];t.call(e,s,i,this),n=O(this),r++}}set(t,e){e=`${e}`,b(t=`${t}`),v(e);const n=w(this[x],t);this[x][void 0!==n?n:t]=[e]}append(t,e){e=`${e}`,b(t=`${t}`),v(e);const n=w(this[x],t);void 0!==n?this[x][n].push(e):this[x][t]=[e]}has(t){return b(t=`${t}`),void 0!==w(this[x],t)}delete(t){b(t=`${t}`);const e=w(this[x],t);void 0!==e&&delete this[x][e]}raw(){return this[x]}keys(){return C(this,"key")}values(){return C(this,"value")}[Symbol.iterator](){return C(this,"key+value")}}function O(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(t[x]).sort();return n.map("key"===e?function(t){return t.toLowerCase()}:"value"===e?function(e){return t[x][e].join(", ")}:function(e){return[e.toLowerCase(),t[x][e].join(", ")]})}T.prototype.entries=T.prototype[Symbol.iterator],Object.defineProperty(T.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(T.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const A=Symbol("internal");function C(t,e){const n=Object.create(E);return n[A]={target:t,kind:e,index:0},n}const E=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==E)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[A];const e=t.target,n=t.kind,r=t.index,o=O(e,n);return r>=o.length?{value:void 0,done:!0}:(this[A].index=r+1,{value:o[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function j(t){const e=Object.assign({__proto__:null},t[x]),n=w(t[x],"Host");return void 0!==n&&(e[n]=e[n][0]),e}Object.defineProperty(E,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const N=n(6).STATUS_CODES,P=Symbol("Response internals");class k{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.call(this,t,e);const n=e.status||200;this[P]={url:e.url,status:n,statusText:e.statusText||N[n],headers:new T(e.headers)}}get url(){return this[P].url}get status(){return this[P].status}get ok(){return this[P].status>=200&&this[P].status<300}get statusText(){return this[P].statusText}get headers(){return this[P].headers}clone(){return new k(p(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}f.mixIn(k.prototype),Object.defineProperties(k.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(k.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var S=n(7);const _=S.format,I=S.parse,F=Symbol("Request internals");function B(t){return"object"==typeof t&&"object"==typeof t[F]}class M{constructor(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B(t)?e=I(t.url):(e=t&&t.href?I(t.href):I(`${t}`),t={});let r=n.method||t.method||"GET";if(r=r.toUpperCase(),(null!=n.body||B(t)&&null!==t.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=n.body?n.body:B(t)&&null!==t.body?p(t):null;f.call(this,o,{timeout:n.timeout||t.timeout||0,size:n.size||t.size||0});const s=new T(n.headers||t.headers||{});if(null!=n.body){const t=function(t){const e=t.body;return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":d(e)?"application/x-www-form-urlencoded;charset=UTF-8":e instanceof i?e.type||null:Buffer.isBuffer(e)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:null}(this);null===t||s.has("Content-Type")||s.append("Content-Type",t)}this[F]={method:r,redirect:n.redirect||t.redirect||"follow",headers:s,parsedURL:e},this.follow=void 0!==n.follow?n.follow:void 0!==t.follow?t.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===t.compress||t.compress,this.counter=n.counter||t.counter||0,this.agent=n.agent||t.agent}get method(){return this[F].method}get url(){return _(this[F].parsedURL)}get headers(){return this[F].headers}get redirect(){return this[F].redirect}clone(){return new M(this)}}f.mixIn(M.prototype),Object.defineProperty(M.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(M.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});const D=n(6),R=n(8);const L=n(9).PassThrough;const q=n(7).resolve,$=n(24);function U(t,e){if(!U.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return f.Promise=U.Promise,new U.Promise((function(n,o){const a=new M(t,e),u=function(t){const e=t[F].parsedURL,n=new T(t[F].headers);if(n.has("Accept")||n.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");let r=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(r="0"),null!=t.body){const e=y(t);"number"==typeof e&&(r=String(e))}return r&&n.set("Content-Length",r),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&n.set("Accept-Encoding","gzip,deflate"),n.has("Connection")||t.agent||n.set("Connection","close"),Object.assign({},e,{method:t.method,headers:j(n),agent:t.agent})}(a),c=(0,("https:"===u.protocol?R:D).request)(u);let l;function f(){c.abort(),clearTimeout(l)}a.timeout&&c.once("socket",(function(t){l=setTimeout((function(){o(new s(`network timeout at: ${a.url}`,"request-timeout")),f()}),a.timeout)})),c.on("error",(function(t){o(new s(`request to ${a.url} failed, reason: ${t.message}`,"system",t)),f()})),c.on("response",(function(t){clearTimeout(l);const e=function(t){const e=new T;for(const n of Object.keys(t))if(!g.test(n))if(Array.isArray(t[n]))for(const r of t[n])m.test(r)||(void 0===e[x][n]?e[x][n]=[r]:e[x][n].push(r));else m.test(t[n])||(e[x][n]=[t[n]]);return e}(t.headers);if(U.isRedirect(t.statusCode)){const r=e.get("Location"),i=null===r?null:q(a.url,r);switch(a.redirect){case"error":return o(new s(`redirect mode is set to error: ${a.url}`,"no-redirect")),void f();case"manual":null!==i&&e.set("Location",i);break;case"follow":if(null===i)break;if(a.counter>=a.follow)return o(new s(`maximum redirect reached at: ${a.url}`,"max-redirect")),void f();const r={headers:new T(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:a.body};return 303!==t.statusCode&&a.body&&null===y(a)?(o(new s("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void f()):(303!==t.statusCode&&(301!==t.statusCode&&302!==t.statusCode||"POST"!==a.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),n(U(new M(i,r))),void f())}}let r=t.pipe(new L);const i={url:a.url,status:t.statusCode,statusText:t.statusMessage,headers:e,size:a.size,timeout:a.timeout},u=e.get("Content-Encoding");if(!a.compress||"HEAD"===a.method||null===u||204===t.statusCode||304===t.statusCode)return void n(new k(r,i));const c={flush:$.Z_SYNC_FLUSH,finishFlush:$.Z_SYNC_FLUSH};if("gzip"==u||"x-gzip"==u)return r=r.pipe($.createGunzip(c)),void n(new k(r,i));if("deflate"!=u&&"x-deflate"!=u)n(new k(r,i));else{t.pipe(new L).once("data",(function(t){r=8==(15&t[0])?r.pipe($.createInflate()):r.pipe($.createInflateRaw()),n(new k(r,i))}))}})),function(t,e){const n=e.body;null===n?t.end():"string"==typeof n?(t.write(n),t.end()):d(n)?(t.write(Buffer.from(String(n))),t.end()):n instanceof i?(t.write(n[r]),t.end()):Buffer.isBuffer(n)?(t.write(n),t.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(n)?(t.write(Buffer.from(n)),t.end()):n.pipe(t)}(c,a)}))}U.isRedirect=function(t){return 301===t||302===t||303===t||307===t||308===t},U.default=U,U.Promise=global.Promise,e.default=U},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"handler",(function(){return o}));n(3);var r=n(57);n(21).config();async function o(t,e,n){const o=r.client(process.env.PRISMIC_URL,{accessToken:`${process.env.PRISMIC_API_TOKEN}`});let i,s=JSON.parse(t.body);t.body&&(i=s.userName);try{const t=await o.query([r.Predicates.at("document.type","pronto_user"),r.Predicates.at("my.pronto_user.uid",i)],{orderings:"[userid]",fetchLinks:"role.permissions"});return t?{statusCode:200,body:JSON.stringify(t.results[0].data)}:{statusCode:501,body:""}}catch(t){return console.log(t),{statusCode:200,body:""}}}}]));